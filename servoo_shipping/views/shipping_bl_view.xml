<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <record model="ir.ui.view" id="view_shipping_bl_tree">
            <field name="name">view.shipping.bl.tree</field>
            <field name="model">servoo.shipping.bl</field>
            <field name="arch" type="xml">
                <tree string="Bill of lading">
                    <field name="name" />
                    <field name="date" />
                    <field name="shipper_id" />
                    <field name="consignee_id" />
                    <field name="notify_id" />
                    <field name="vessel_id" />
                    <field name="loading_port" />
                    <field name="discharge_port" />
                    <field name="shipping_file_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_shipping_bl_form">
            <field name="name">view.shipping.bl.form</field>
            <field name="model">servoo.shipping.bl</field>
            <field name="arch" type="xml">
                <form string="Bill of lading">
                    <header>
                        <button name="%(action_wizard_shipping_delivery_order)d" string="Create Delivery Order" type="action" states="saved"
                        class="btn-primary" groups="servoo_shipping.shipping_group_user"/>
                            <field name="state" widget="statusbar" statusbar_visible="saved,delivered"/>
                        </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="return_action_to_open"
                                    type="object"
                                    class="oe_stat_button"
                                    icon="fa-pencil-square-o"
                                    context="{'xml_id':'servoo_shipping.action_delivery_order'}"
                                    help="show the delivery order for this bill of lading" >
                                <field name="delivery_order_count" widget="statinfo" string="Delivery Orders"/>
                            </button>
                        </div>
                        <group col="4">
                            <field name="name" />
                            <field name="date" />
                            <field name="shipper_id" />
                            <field name="consignee_id" />
                            <field name="notify_id"  required="1"/>
                            <field name="shipping_file_id" />
                            <field name="vessel_id" />
                            <field name="voyage_number" />
                            <field name="loading_port" />
                            <field name="discharge_port" />
                        </group>
                        <group string="Cargo Description">
                            <field name="cargo_description" colpsan="4" nolabel="1" required="1"/>
                        </group>
                        <notebook>
                            <page string="Goods Details">
                                <field name="good_ids" widget="one2many" required="1" mode="tree,form">
                                    <tree string="Good">
                                        <field name="name"/>
                                        <field name="quantity"/>
                                        <field name="unit_id" />
                                        <field name="gross_weight" />
                                        <field name="net_weight" />
                                        <field name="volume" />
                                    </tree>
                                    <form string="Good">
                                        <sheet>
                                            <group col="4">
                                                <field name="name" colpsan="4"/>
                                                <field name="quantity" />
                                                <field name="unit_id" />
                                                <field name="gross_weight" />
                                                <field name="net_weight" />
                                                <field name="volume" />
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                        <div class="oe_chatter">
                            <field name="message_follower_ids"/>
                            <field name="activity_ids"/>
                            <field name="message_ids"/>
                        </div>
                    </sheet>

                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_shipping_bl">
            <field name="name">Bills of lading</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">servoo.shipping.bl</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="domain">[]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new bill of lading!
                </p>
            </field>
        </record>

        <menuitem id="shipping_bl_menu" parent="servoo_shipping.shipping_menu" action="action_shipping_bl" />
    </data>
</odoo>